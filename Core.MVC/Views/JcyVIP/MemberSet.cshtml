
@{
    ViewData["Title"] = "MemberSet";
    Layout = "~/Views/Home/_Layout.cshtml";
}

<h1></h1>
<h1></h1>
<script src="~/js/site.js"></script>
<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/layui-v2.4.5/layui/lay/modules/layer.js"></script>
<script>
    $(function () {
        ShowInfofour();
        $('.test').on('click', function () {
            layer.open({
                type: 2,
                title: false,
                closeBtn: 1, //不显示关闭按钮
                shade: [0],
                area: ['400', '300px'],
                anim: 2,
                content: ['/JcyVIP/VIPSet', 'no'], //iframe的url，no代表不显示滚动条
            });
        });

        $('.test1').on('click', function () {
            layer.open({
                type: 2,
                title: false,
                closeBtn: 1, //不显示关闭按钮
                shade: [0],
                area: ['400px', '350px'],
                anim: 2,
                content: ['/JcyVIP/VIPSet', 'no'], //iframe的url，no代表不显示滚动条
            });
        });
    })
    function ShowInfofour() {
        $.ajax({
            url: "http://localhost:4965/api/JcyVIP/GetMemberSet",
            dataType: "json",
            type: "get",
            data: {},
            async: false,
            success: function (data) {
                $("#list3").empty();
                $(data).each(function () {
                    var htmls = "<tr>" +
                        "<td>" + this.id + "</td>" +
                        "<td style='color:#ffd800;font-weight:bold'>" + this.vGradeName + "</td>" +
                        "<td>" + '<a href="javascript:;" style="color:darkslateblue">' + this.vIPName + '</a>' + "</td>" +
                        "<td>" + this.vIPReset + "</td>" +
                        "<td>" + this.minIntegral + "</td>" +
                        "<td>" + this.upgrade + "</td>" +
                        "<td>" + this.remark + "</td>" +
                        "<td>" + this.states + "</td>" +
                        "<td><input type='button'  class='test' value='会员条件设置'><input type='button'  class='test1' value='新增会员类型'></td></tr>";
                    $("#list3").append(htmls);
                })
            }
        })
    }
</script>
<div>
    <table class="layui-table">
        <thead style="background-color:darkslateblue;">
            <tr>
                <td>序号</td>
                <td>会员等级</td>
                <td>会员姓名</td>
                <td>折扣</td>
                <td>最低积分</td>
                <td>升级所需积分</td>
                <td>备注</td>
                <td>状态</td>
                <td>操作</td>
            </tr>
        </thead>
        <tbody id="list3">
        </tbody>
    </table>
</div>

